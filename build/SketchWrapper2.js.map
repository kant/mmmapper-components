{"version":3,"file":"SketchWrapper2.js","sources":["../../../src/SketchWrapper.svelte"],"sourcesContent":["<script>\n  import { onMount, getContext } from 'svelte';\n  import PIXI, { PIXI_CONTEXT } from './lib/pixi/index.js';\n\n  const { getApp, pixiStore } = getContext(PIXI_CONTEXT);\n  const app = getApp();\n\n  console.log('SketchWrapper loaded');\n\n  onMount(() => {\n    console.log('SketchWrapper mounted');\n\n    app.ticker = PIXI.Ticker.shared;\n    app.ticker.autoStart = false;\n    app.stage = new PIXI.Container();\n    app.ticker.start();\n\n    pixiStore.sketchWrapperDestructor.set(() => {\n      app.ticker.stop();\n      app.stage.destroy(); // TODO: Should be app.stage.destroy(true);\n      console.log('SketchWrapper destroyed');\n      return true;\n    });\n  });\n</script>\n\n{#if app.stage}\n  <slot />\n{/if}\n"],"names":["ctx","stage","getApp","pixiStore","getContext","PIXI_CONTEXT","app","console","log","onMount","ticker","PIXI","Ticker","shared","autoStart","Container","start","sketchWrapperDestructor","set","stop","destroy"],"mappings":"mYA0BKA,KAAIC,kFAAJD,KAAIC,0OAtBCC,EAAMC,UAAEA,GAAcC,EAAWC,GACnCC,EAAMJ,WAEZK,QAAQC,IAAI,wBAEZC,QACEF,QAAQC,IAAI,6BAEZF,EAAII,OAASC,EAAKC,OAAOC,cACzBP,EAAII,OAAOI,WAAY,SACvBR,EAAIL,UAAYU,EAAKI,aACrBT,EAAII,OAAOM,QAEXb,EAAUc,wBAAwBC,UAChCZ,EAAII,OAAOS,OACXb,EAAIL,MAAMmB,UACVb,QAAQC,IAAI,4BACL"}