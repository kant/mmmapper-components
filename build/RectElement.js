import{S as t,i as e,s as n,v as s,p as i,P as r,c as o,m as l,t as a,a as c,d as p,e as d,b as h,f,g as m,h as g,x as $}from"./main2.js";import{a as u,D as x,P as w,W as b,S}from"./Screen2.js";import{S as y}from"./SketchWrapper2.js";function W(t,e,n){let{x:r=0}=e,{y:o=0}=e,{offset:l=[]}=e,{width:a}=e,{height:c}=e,{fill:p=16777215}=e,{brightness:d=null}=e,{filters:h=[]}=e,{scale:f=1}=e,{position:m="center"}=e,{lineWidth:g=null}=e,{lineColor:$=null}=e;const{getApp:S,pixiStore:y}=s(u),W=S(),C=new x;let k,M,R=!1;return y.editMode.subscribe((t=>{R=t,k&&k.showHelper(t)})),i((()=>{console.log("RectElement mounted");let t=new w.Graphics;g&&(t.lineStyle(g,$),t.drawRect(0,0,a,c)),M=new w.Graphics,M.lineStyle(0),M.beginFill(p,1).drawRect(0,0,a,c).endFill(),M.filters=h,t.addChild(M),k=new b(t,W.renderer,W.screen,R),k.x=r,k.y=o,k.setOffset(...l),C.makeDraggable(k.group,k.sprite),W.stage.addChild(k.group);const e=function(t,e,n,s,i){let r=()=>{};return"center"===t?r=()=>{n.setTransform((1+s-s*e)/2,(1+i-i*e)/2,e,e)}:"bottom"===t&&(r=()=>{n.setTransform(0,i-i*e,1,e)}),r}(m,f,M,a,c);let n,s,i;const u=function(){k.update(),e(),d&&(n=Math.ceil((p>>16)*d),s=Math.ceil((p>>8&255)*d),i=Math.ceil((255&p)*d),M.tint=(1<<24)+(n<<16)+(s<<8)+i&16777215)};W.ticker.add(u),y.destructors.update((t=>[...t,()=>{W.ticker.remove(u,this),console.log("RectElement destroyed")}]))})),t.$$set=t=>{"x"in t&&n(0,r=t.x),"y"in t&&n(1,o=t.y),"offset"in t&&n(2,l=t.offset),"width"in t&&n(3,a=t.width),"height"in t&&n(4,c=t.height),"fill"in t&&n(5,p=t.fill),"brightness"in t&&n(6,d=t.brightness),"filters"in t&&n(7,h=t.filters),"scale"in t&&n(8,f=t.scale),"position"in t&&n(9,m=t.position),"lineWidth"in t&&n(10,g=t.lineWidth),"lineColor"in t&&n(11,$=t.lineColor)},[r,o,l,a,c,p,d,h,f,m,g,$]}class C extends t{constructor(t){super(),e(this,t,W,null,n,{x:0,y:1,offset:2,width:3,height:4,fill:5,brightness:6,filters:7,scale:8,position:9,lineWidth:10,lineColor:11})}}function k(t){let e,n;return e=new C({props:{x:250,y:150,width:100,height:100,fill:6340791,brightness:1}}),{c(){o(e.$$.fragment)},m(t,s){l(e,t,s),n=!0},p:$,i(t){n||(a(e.$$.fragment,t),n=!0)},o(t){c(e.$$.fragment,t),n=!1},d(t){p(e,t)}}}function M(t){let e,n;return e=new y({props:{$$slots:{default:[k]},$$scope:{ctx:t}}}),{c(){o(e.$$.fragment)},m(t,s){l(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(a(e.$$.fragment,t),n=!0)},o(t){c(e.$$.fragment,t),n=!1},d(t){p(e,t)}}}function R(t){let e,n,s,i,r,$,u,x;return r=new S({props:{class:"border shadow mx-auto",editMode:!0,width:"600",height:"400",$$slots:{default:[M]},$$scope:{ctx:t}}}),{c(){e=d("h1"),e.textContent="RectElement",n=h(),s=d("p"),s.textContent="A simple rectangle element.",i=h(),o(r.$$.fragment),$=h(),u=d("pre"),f(u,"class","language-null")},m(t,o){m(t,e,o),m(t,n,o),m(t,s,o),m(t,i,o),l(r,t,o),m(t,$,o),m(t,u,o),u.innerHTML='<code class="language-null">&lt;script&gt;\n  import &#123; Screen, SketchWrapper &#125; from &#39;@mmmapper/components&#39;;\n  import &#123; RectElement &#125; from &#39;@mmmapper/components&#39;;\n&lt;/script&gt;\n\n&lt;Screen\n  class=&quot;border shadow mx-auto&quot;\n  editMode=&#123;true&#125;\n  width=&quot;600&quot;\n  height=&quot;400&quot;&gt;\n  &lt;SketchWrapper&gt;\n    &lt;RectElement\n      x=&#123;250&#125;\n      y=&#123;150&#125;\n      width=&#123;100&#125;\n      height=&#123;100&#125;\n      fill=&#123;0x60c0b7&#125;\n      brightness=&#123;1&#125; /&gt;\n  &lt;/SketchWrapper&gt;\n&lt;/Screen&gt;</code>',x=!0},p(t,e){const n={};1&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n)},i(t){x||(a(r.$$.fragment,t),x=!0)},o(t){c(r.$$.fragment,t),x=!1},d(t){t&&g(e),t&&g(n),t&&g(s),t&&g(i),p(r,t),t&&g($),t&&g(u)}}}function q(t){let e,n;return e=new r({props:{$$slots:{default:[R]},$$scope:{ctx:t}}}),{c(){o(e.$$.fragment)},m(t,s){l(e,t,s),n=!0},p(t,[n]){const s={};1&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(a(e.$$.fragment,t),n=!0)},o(t){c(e.$$.fragment,t),n=!1},d(t){p(e,t)}}}export default class extends t{constructor(t){super(),e(this,t,null,q,n,{})}}
//# sourceMappingURL=RectElement.js.map
